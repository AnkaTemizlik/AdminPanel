{
  "ScreenConfig": {
    "Names": [
      "Appointment",
      "AppointmentEmployee",
      "CustomerSummary",
      "Document",
      "Service",
      "Customer",
      "Country",
      "City",
      "Notification",
      "User"
    ],
    "Lists": {
      "LogLevelTypes": [
        {
          "value": "Info",
          "id": 0
        },
        {
          "value": "Warn",
          "id": 1
        },
        {
          "value": "Error",
          "id": 2
        },
        {
          "value": "Debug",
          "id": 3
        }
      ],
      "OperatorTypes": [
        {
          "value": "Equals",
          "id": 1
        },
        {
          "value": "Contains",
          "id": 2
        },
        {
          "value": "DoesNotContain",
          "id": 3
        },
        {
          "value": "StartsWith",
          "id": 4
        },
        {
          "value": "EndsWith",
          "id": 5
        },
        {
          "value": "DoesNotEqual",
          "id": 6
        },
        {
          "value": "IsLessThan",
          "id": 7
        },
        {
          "value": "IsGreaterThan",
          "id": 8
        },
        {
          "value": "IsLessThanOrEqualTo",
          "id": 9
        },
        {
          "value": "IsGreaterThanOrEqualTo",
          "id": 10
        },
        {
          "value": "IsBlank",
          "id": 11
        },
        {
          "value": "IsNotBlank",
          "id": 12
        },
        {
          "value": "IsBetween",
          "id": 13
        }
      ],
      "AppointmentState": [
        {
          "value": "None",
          "id": 0
        },
        {
          "value": "Assigned",
          "id": 2
        },
        {
          "value": "Deleted",
          "id": 8
        },
        {
          "value": "Canceled",
          "id": 9
        },
        {
          "value": "Completed",
          "id": 10
        }
      ],
      "PriorityType": [
        {
          "value": "Low",
          "id": 0
        },
        {
          "value": "Normal",
          "id": 1
        },
        {
          "value": "High",
          "id": 2
        }
      ],
      "NotificationTypes": [
        {
          "id": 1,
          "value": "FatalError"
        }
      ],
      "DateFormats": [
        {
          "localized": "LT",
          "format": {
            "tr": "HH:mm",
            "en": "h:mm a"
          },
          "caption": "18:25"
        },
        {
          "localized": "LTS",
          "format": {
            "tr": "HH:mm:ss",
            "en": "h:mm:ss a"
          },
          "caption": "18:25:03"
        },
        {
          "localized": "L",
          "format": {
            "tr": "dd.MM.yyyy",
            "en": "MM/dd/YYYY"
          },
          "caption": "02.01.2021"
        },
        {
          "localized": "l",
          "format": {
            "tr": "d.M.yy",
            "en": "M/d/yy"
          },
          "caption": "2.1.21"
        },
        {
          "localized": "LL",
          "format": {
            "tr": "d MMMM yyyy",
            "en": "MMMM d yyyy"
          },
          "caption": "2 January 2021"
        },
        {
          "localized": "ll",
          "format": {
            "tr": "d MMM yy",
            "en": "MMM d yy"
          },
          "caption": "2 Jan 21"
        },
        {
          "localized": "LLL",
          "format": {
            "tr": "dd.MM.yyyy HH:mm",
            "en": "MM/dd/yyyy h:mm a"
          },
          "caption": "02.01.2021 18:25"
        },
        {
          "localized": "lll",
          "format": {
            "tr": "d.M.yy H:m",
            "en": "M/d/yy h:mm a"
          },
          "caption": "2.1.21 18:25"
        },
        {
          "localized": "LLLL",
          "format": {
            "tr": "dd.MM.yyyy HH:mm:ss.SSS",
            "en": "dddd, MMMM yyyy h:mm:ss.SSS a"
          },
          "caption": "02.01.2021 18:25:03.313"
        },
        {
          "localized": "llll",
          "format": {
            "tr": "dd.M.yy H:m:ss.SS",
            "en": "ddd, MMM yy h:mm:ss.SSS a"
          },
          "caption": "02.1.21 18:25:03.31"
        }
      ]
    },
    "Screens": {
      "Appointment": {
        "title": "Appointment Screen",
        "visible": true,
        "route": "appointment",
        "keyFieldName": "Id",
        "icon": "event_available",
        "hideInSidebar": false,
        "isDefinitionModel": false,
        "columns": [
          {
            "name": "CustomerId",
            "type": "numeric",
            "required": true
          },
          {
            "name": "ServiceId",
            "type": "numeric",
            "required": true
          },
          {
            "name": "StartDate",
            "type": "datetime",
            "format": "LLL",
            "required": true
          },
          {
            "name": "EndDate",
            "type": "datetime",
            "format": "LLL",
            "required": true
          },
          {
            "name": "State",
            "autoComplete": "AppointmentState",
            "type": "numeric",
            "required": true
          },
          {
            "name": "Priority",
            "autoComplete": "PriorityType",
            "type": "numeric",
            "required": true
          },
          {
            "name": "Note",
            "type": "text"
          },
          {
            "name": "CreatedBy",
            "type": "numeric"
          },
          {
            "name": "Id",
            "type": "numeric"
          },
          {
            "name": "CreationTime",
            "type": "datetime",
            "format": "LLL"
          },
          {
            "name": "UpdateTime",
            "type": "datetime",
            "format": "LLL"
          }
        ],
        "assembly": "PointmentApp.Models.Appointment",
        "subModels": [
          {
            "name": "Document",
            "title": "Document Screen",
            "type": "list",
            "icon": "image",
            "showIn": [
              "tab"
            ],
            "route": "document",
            "relationFieldNames": [
              "?",
              "Id"
            ]
          },
          {
            "name": "AppointmentEmployee",
            "title": "AppointmentEmployee Screen",
            "type": "list",
            "icon": "person_outline",
            "showIn": [
              "tab"
            ],
            "route": "appointment-employee",
            "relationFieldNames": [
              "?",
              "Id"
            ]
          }
        ],
        "editing": {
          "enabled": true,
          "mode": "popup",
          "allowUpdating": true,
          "allowAdding": true,
          "allowDeleting": true
        }
      },
      "AppointmentEmployee": {
        "title": "AppointmentEmployee Screen",
        "visible": true,
        "route": "appointment-employee",
        "keyFieldName": "Id",
        "icon": "person_outline",
        "hideInSidebar": true,
        "isDefinitionModel": false,
        "columns": [
          {
            "name": "AppointmentId",
            "type": "numeric",
            "required": true
          },
          {
            "name": "UserId",
            "type": "numeric",
            "required": true
          },
          {
            "name": "Id",
            "type": "numeric"
          },
          {
            "name": "CreationTime",
            "type": "datetime",
            "format": "LLL"
          },
          {
            "name": "UpdateTime",
            "type": "datetime",
            "format": "LLL"
          },
          {
            "name": "AppointmentId",
            "type": "numeric"
          },
          {
            "name": "UserId",
            "type": "numeric"
          }
        ],
        "assembly": "PointmentApp.Models.AppointmentEmployee",
        "editing": {
          "enabled": true,
          "mode": "popup",
          "allowUpdating": true,
          "allowAdding": true,
          "allowDeleting": true
        }
      },
      "CustomerSummary": {
        "title": "CustomerSummary Screen",
        "visible": true,
        "route": "customer-summary",
        "keyFieldName": "CustomerId",
        "icon": "people_alt",
        "hideInSidebar": false,
        "isDefinitionModel": false,
        "columns": [
          {
            "name": "CustomerId",
            "type": "numeric"
          },
          {
            "name": "Name",
            "type": "text"
          },
          {
            "name": "PhoneNumber",
            "type": "text"
          },
          {
            "name": "Email",
            "type": "text"
          },
          {
            "name": "AppointmentCount",
            "type": "numeric"
          },
          {
            "name": "CityId",
            "type": "numeric"
          },
          {
            "name": "LastAppointmentDate",
            "type": "datetime",
            "format": "LLL"
          }
        ],
        "assembly": "PointmentApp.Models.CustomerSummary"
      },
      "Document": {
        "title": "Document Screen",
        "visible": true,
        "route": "document",
        "keyFieldName": "Id",
        "icon": "image",
        "hideInSidebar": true,
        "isDefinitionModel": false,
        "columns": [
          {
            "name": "AppointmentId",
            "type": "numeric"
          },
          {
            "name": "FileType",
            "type": "text",
            "required": true,
            "stringLength": 16
          },
          {
            "name": "Url",
            "type": "multiline",
            "required": true,
            "stringLength": 1000
          },
          {
            "name": "Id",
            "type": "numeric"
          },
          {
            "name": "CreationTime",
            "type": "datetime",
            "format": "LLL"
          },
          {
            "name": "UpdateTime",
            "type": "datetime",
            "format": "LLL"
          },
          {
            "name": "FileType",
            "type": "text"
          },
          {
            "name": "Url",
            "type": "multiline",
            "colSpan": 2
          }
        ],
        "assembly": "PointmentApp.Models.Document"
      },
      "Service": {
        "title": "Service Screen",
        "visible": true,
        "route": "service",
        "keyFieldName": "Id",
        "icon": "cleaning_services",
        "hideInSidebar": false,
        "isDefinitionModel": true,
        "columns": [
          {
            "name": "Name",
            "type": "textArea",
            "width": 280,
            "required": true,
            "stringLength": 500
          },
          {
            "name": "Description",
            "type": "textArea"
          },
          {
            "name": "Id",
            "type": "numeric",
            "hidden": true
          },
          {
            "name": "CreationTime",
            "type": "datetime",
            "format": "LLL",
            "hidden": true
          },
          {
            "name": "UpdateTime",
            "type": "datetime",
            "format": "LLL",
            "hidden": true
          }
        ],
        "assembly": "PointmentApp.Models.Service",
        "editing": {
          "enabled": true,
          "mode": "popup",
          "allowUpdating": true,
          "allowAdding": true,
          "allowDeleting": true
        }
      },
      "Customer": {
        "title": "Customer Screen",
        "visible": true,
        "route": "customer",
        "keyFieldName": "Id",
        "icon": "contacts",
        "hideInSidebar": false,
        "isDefinitionModel": true,
        "columns": [
          {
            "name": "Name",
            "type": "text",
            "required": true,
            "stringLength": 250
          },
          {
            "name": "PhoneNumber",
            "type": "text",
            "required": true,
            "stringLength": 16
          },
          {
            "name": "Corporate",
            "type": "check",
            "required": true
          },
          {
            "name": "Title",
            "type": "text",
            "stringLength": 500
          },
          {
            "name": "Email",
            "type": "text",
            "required": true,
            "stringLength": 50
          },
          {
            "name": "LandlinePhoneNumber",
            "type": "text",
            "stringLength": 16
          },
          {
            "name": "MobilePhoneNumber",
            "type": "text",
            "stringLength": 16
          },
          {
            "name": "Address",
            "type": "text",
            "stringLength": 500
          },
          {
            "name": "CityId",
            "type": "numeric",
            "required": true
          },
          {
            "name": "TaxNumber",
            "type": "text",
            "stringLength": 11
          },
          {
            "name": "TaxAdministration",
            "type": "text",
            "stringLength": 50
          },
          {
            "name": "BillingAddress",
            "type": "text",
            "stringLength": 500
          },
          {
            "name": "Note",
            "type": "text"
          },
          {
            "name": "Id",
            "type": "numeric"
          },
          {
            "name": "CreationTime",
            "type": "datetime",
            "format": "LLL"
          },
          {
            "name": "UpdateTime",
            "type": "datetime",
            "format": "LLL"
          }
        ],
        "assembly": "PointmentApp.Models.Customer",
        "editing": {
          "enabled": true,
          "mode": "popup",
          "allowUpdating": true,
          "allowAdding": true,
          "allowDeleting": true
        }
      },
      "Country": {
        "title": "Country Screen",
        "visible": true,
        "route": "country",
        "keyFieldName": "Id",
        "icon": "outlined_flag",
        "hideInSidebar": false,
        "isDefinitionModel": true,
        "columns": [
          {
            "name": "IsActive",
            "type": "check"
          },
          {
            "name": "Image",
            "type": "image",
            "stringLength": 1000,
            "allowEditing": false
          },
          {
            "name": "Name",
            "type": "text",
            "required": true,
            "stringLength": 50
          },
          {
            "name": "Alpha2",
            "type": "text",
            "required": true,
            "stringLength": 2
          },
          {
            "name": "Alpha3",
            "type": "text",
            "stringLength": 3
          },
          {
            "name": "UNCode",
            "type": "text",
            "stringLength": 16
          },
          {
            "name": "CallingCode",
            "type": "text",
            "stringLength": 8
          },
          {
            "name": "Id",
            "type": "numeric",
            "hidden": true,
            "allowEditing": false
          },
          {
            "name": "CreationTime",
            "type": "datetime",
            "format": "LLL",
            "hidden": true,
            "allowEditing": false
          },
          {
            "name": "UpdateTime",
            "type": "datetime",
            "format": "LLL",
            "hidden": true,
            "allowEditing": false
          }
        ],
        "assembly": "PointmentApp.Models.Country",
        "hideDetails": true,
        "editing": {
          "enabled": true,
          "mode": "popup",
          "allowUpdating": true,
          "allowAdding": true,
          "allowDeleting": true
        }
      },
      "City": {
        "title": "City Screen",
        "visible": true,
        "route": "city",
        "keyFieldName": "Id",
        "icon": "location_city",
        "hideInSidebar": false,
        "isDefinitionModel": true,
        "columns": [
          {
            "name": "CountryId",
            "type": "numeric",
            "required": true,
            "data": {
              "type": "customStore",
              "name": "Country",
              "url": "/api/entity?name=Country",
              "displayExpr": "Name",
              "valueExpr": "Id"
            }
          },
          {
            "name": "Code",
            "type": "text",
            "required": true,
            "stringLength": 3
          },
          {
            "name": "Name",
            "type": "text",
            "width": 220,
            "required": true,
            "stringLength": 50
          },
          {
            "name": "Id",
            "type": "numeric",
            "hidden": true,
            "allowEditing": false
          },
          {
            "name": "CreationTime",
            "type": "datetime",
            "format": "LLL",
            "hidden": true,
            "allowEditing": false
          },
          {
            "name": "UpdateTime",
            "type": "datetime",
            "format": "LLL",
            "hidden": true,
            "allowEditing": false
          }
        ],
        "assembly": "PointmentApp.Models.City",
        "hideDetails": true,
        "editing": {
          "enabled": true,
          "mode": "popup",
          "allowUpdating": true,
          "allowAdding": true,
          "allowDeleting": true
        }
      },
      "Notification": {
        "title": "Notification Screen",
        "route": "notification",
        "keyFieldName": "Id",
        "hideInSidebar": true,
        "assembly": "DNA.Domain.Models.Notification",
        "visible": false
      },
      "User": {
        "title": "User Screen",
        "route": "user",
        "keyFieldName": "Id",
        "hideInSidebar": true,
        "assembly": "DNA.API.Models.User",
        "visible": false
      }
    },
    "Queries": {
      "Appointment": {
        "SelectQuery": {
          "Lines": [
            "SELECT *",
            "FROM {TablePrefix}Appointment"
          ]
        },
        "SelectById": {
          "Lines": [
            "SELECT * FROM {TablePrefix}Appointment WHERE Id = @Id"
          ]
        },
        "InsertQuery": {
          "Lines": [
            "INSERT INTO {TablePrefix}Appointment ({Fields})",
            "VALUES ({Parameters})"
          ]
        },
        "UpdateQuery": {
          "Lines": [
            "UPDATE {TablePrefix}Appointment ",
            "SET {Fields}",
            "WHERE Id = @Id"
          ]
        },
        "DeleteQuery": {
          "Lines": [
            "DELETE FROM {TablePrefix}Appointment ",
            "WHERE Id = @Id"
          ]
        }
      },
      "AppointmentEmployee": {
        "SelectQuery": {
          "Lines": [
            "SELECT *",
            "FROM {TablePrefix}AppointmentEmployee"
          ]
        },
        "SelectById": {
          "Lines": [
            "SELECT * FROM {TablePrefix}AppointmentEmployee WHERE Id = @Id"
          ]
        },
        "InsertQuery": {
          "Lines": [
            "INSERT INTO {TablePrefix}AppointmentEmployee ({Fields})",
            "VALUES ({Parameters})"
          ]
        },
        "UpdateQuery": {
          "Lines": [
            "UPDATE {TablePrefix}AppointmentEmployee ",
            "SET {Fields}",
            "WHERE Id = @Id"
          ]
        },
        "DeleteQuery": {
          "Lines": [
            "DELETE FROM {TablePrefix}AppointmentEmployee ",
            "WHERE Id = @Id"
          ]
        }
      },
      "CustomerSummary": {
        "SelectQuery": {
          "Lines": [
            "SELECT c.[Id] AS CustomerId, c.[Name], c.[PhoneNumber], c.[Email], c.[CityId], MAX(a.EndDate) AS LastAppointmentDate, COUNT(0) AS AppointmentCount",
            "FROM [dbo].[PA_Customer] c",
            "INNER JOIN [dbo].[PA_Appointment] a ON c.Id = a.CustomerId",
            "GROUP BY c.Id, c.[Name], c.[PhoneNumber], c.[Email], c.[CityId]"
          ]
        },
        "SelectById": {
          "Lines": [
            "SELECT * FROM {TablePrefix}CustomerSummary WHERE Id = @Id"
          ]
        }
      },
      "Document": {
        "SelectQuery": {
          "Lines": [
            "SELECT *",
            "FROM {TablePrefix}Document"
          ]
        },
        "SelectById": {
          "Lines": [
            "SELECT * FROM {TablePrefix}Document WHERE Id = @Id"
          ]
        },
        "InsertQuery": {
          "Lines": [
            "INSERT INTO {TablePrefix}Document ({Fields})",
            "VALUES ({Parameters})"
          ]
        },
        "UpdateQuery": {
          "Lines": [
            "UPDATE {TablePrefix}Document ",
            "SET {Fields}",
            "WHERE Id = @Id"
          ]
        },
        "DeleteQuery": {
          "Lines": [
            "DELETE FROM {TablePrefix}Document ",
            "WHERE Id = @Id"
          ]
        }
      },
      "Service": {
        "SelectQuery": {
          "Lines": [
            "SELECT *",
            "FROM {TablePrefix}Service"
          ]
        },
        "SelectById": {
          "Lines": [
            "SELECT * FROM {TablePrefix}Service WHERE Id = @Id"
          ]
        },
        "InsertQuery": {
          "Lines": [
            "INSERT INTO {TablePrefix}Service ({Fields})",
            "VALUES ({Parameters})"
          ]
        },
        "UpdateQuery": {
          "Lines": [
            "UPDATE {TablePrefix}Service ",
            "SET {Fields}",
            "WHERE Id = @Id"
          ]
        },
        "DeleteQuery": {
          "Lines": [
            "DELETE FROM {TablePrefix}Service ",
            "WHERE Id = @Id"
          ]
        }
      },
      "Customer": {
        "SelectQuery": {
          "Lines": [
            "SELECT *",
            "FROM {TablePrefix}Customer"
          ]
        },
        "SelectById": {
          "Lines": [
            "SELECT * FROM {TablePrefix}Customer WHERE Id = @Id"
          ]
        },
        "InsertQuery": {
          "Lines": [
            "INSERT INTO {TablePrefix}Customer ({Fields})",
            "VALUES ({Parameters})"
          ]
        },
        "UpdateQuery": {
          "Lines": [
            "UPDATE {TablePrefix}Customer ",
            "SET {Fields}",
            "WHERE Id = @Id"
          ]
        },
        "DeleteQuery": {
          "Lines": [
            "DELETE FROM {TablePrefix}Customer ",
            "WHERE Id = @Id"
          ]
        }
      },
      "Country": {
        "SelectQuery": {
          "Lines": [
            "SELECT *",
            "FROM {TablePrefix}Country"
          ]
        },
        "SelectById": {
          "Lines": [
            "SELECT * FROM {TablePrefix}Country WHERE Id = @Id"
          ]
        },
        "InsertQuery": {
          "Lines": [
            "INSERT INTO {TablePrefix}Country ({Fields})",
            "VALUES ({Parameters})"
          ]
        },
        "UpdateQuery": {
          "Lines": [
            "UPDATE {TablePrefix}Country ",
            "SET {Fields}",
            "WHERE Id = @Id"
          ]
        },
        "DeleteQuery": {
          "Lines": [
            "DELETE FROM {TablePrefix}Country ",
            "WHERE Id = @Id AND Alpha2 != 'TR'"
          ]
        }
      },
      "City": {
        "SelectQuery": {
          "Lines": [
            "SELECT *",
            "FROM {TablePrefix}City"
          ]
        },
        "SelectById": {
          "Lines": [
            "SELECT * FROM {TablePrefix}City WHERE Id = @Id"
          ]
        },
        "InsertQuery": {
          "Lines": [
            "INSERT INTO {TablePrefix}City ({Fields})",
            "VALUES ({Parameters})"
          ]
        },
        "UpdateQuery": {
          "Lines": [
            "UPDATE {TablePrefix}City ",
            "SET {Fields}",
            "WHERE Id = @Id"
          ]
        },
        "DeleteQuery": {
          "Lines": [
            "DELETE FROM {TablePrefix}City ",
            "WHERE Id = @Id AND CAST([Code] AS INT) > 81 "
          ]
        }
      },
      "Notification": {
        "SelectQuery": {
          "Lines": [
            "SELECT *",
            "FROM {TablePrefix}NOTIFICATION"
          ]
        },
        "SelectById": {
          "Lines": [
            "SELECT * FROM {TablePrefix}NOTIFICATION WHERE Id = @Id"
          ]
        }
      },
      "User": {
        "SelectQuery": {
          "Lines": [
            "SELECT *",
            "FROM {TablePrefix}USER"
          ]
        },
        "SelectById": {
          "Lines": [
            "SELECT * FROM {TablePrefix}USER WHERE Id = @Id"
          ]
        }
      }
    },
    "Cards": {
      "Names": [
        "LogSummary"
      ],
      "LogSummary": {
        "title": "Log Summary",
        "argumentField": "Day",
        "noDataText": "No Data",
        "series": [
          {
            "type": "bar",
            "title": "Errors",
            "valueField": "Count"
          }
        ]
      }
    },
    "CardQueries": {
      "LogSummary": "SELECT CONVERT(VARCHAR, Logged, 104) AS [Day], COUNT(0) AS [Count], DAY(Logged) AS [Max] FROM dbo.{TablePrefix}NLOG l WHERE l.Logged > GETDATE() - 10 AND l.[Level] != 'Info' GROUP BY CONVERT(VARCHAR, Logged, 104), DAY(Logged)"
    }
  }
}